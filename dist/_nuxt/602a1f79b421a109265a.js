(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{341:function(t,e,c){var o=c(14);t.exports=function(t,e){if(!o(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},343:function(t,e,c){"use strict";var o=c(4),r=c(135)(6),n="findIndex",l=!0;n in[]&&Array(1)[n]((function(){l=!1})),o(o.P+o.F*l,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),c(134)(n)},344:function(t,e,c){"use strict";var strong=c(345),o=c(341);t.exports=c(346)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(o(this,"Set"),t=0===t?0:t,t)}},strong)},345:function(t,e,c){"use strict";var o=c(13).f,r=c(129),n=c(195),l=c(28),d=c(193),h=c(194),f=c(133),v=c(196),_=c(136),P=c(8),y=c(192).fastKey,m=c(341),k=P?"_s":"size",x=function(t,e){var c,o=y(e);if("F"!==o)return t._i[o];for(c=t._f;c;c=c.n)if(c.k==e)return c};t.exports={getConstructor:function(t,e,c,f){var v=t((function(t,o){d(t,v,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[k]=0,null!=o&&h(o,c,t[f],t)}));return n(v.prototype,{clear:function(){for(var t=m(this,e),data=t._i,c=t._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete data[c.i];t._f=t._l=void 0,t[k]=0},delete:function(t){var c=m(this,e),o=x(c,t);if(o){var r=o.n,n=o.p;delete c._i[o.i],o.r=!0,n&&(n.n=r),r&&(r.p=n),c._f==o&&(c._f=r),c._l==o&&(c._l=n),c[k]--}return!!o},forEach:function(t){m(this,e);for(var c,o=l(t,arguments.length>1?arguments[1]:void 0,3);c=c?c.n:this._f;)for(o(c.v,c.k,this);c&&c.r;)c=c.p},has:function(t){return!!x(m(this,e),t)}}),P&&o(v.prototype,"size",{get:function(){return m(this,e)[k]}}),v},def:function(t,e,c){var o,r,n=x(t,e);return n?n.v=c:(t._l=n={i:r=y(e,!0),k:e,v:c,p:o=t._l,n:void 0,r:!1},t._f||(t._f=n),o&&(o.n=n),t[k]++,"F"!==r&&(t._i[r]=n)),t},getEntry:x,setStrong:function(t,e,c){f(t,e,(function(t,c){this._t=m(t,e),this._k=c,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?v(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,v(1))}),c?"entries":"values",!c,!0),_(e)}}},346:function(t,e,c){"use strict";var o=c(3),r=c(4),n=c(15),l=c(195),meta=c(192),d=c(194),h=c(193),f=c(14),v=c(7),_=c(132),P=c(64),y=c(191);t.exports=function(t,e,c,m,k,x){var S=o[t],C=S,w=k?"set":"add",A=C&&C.prototype,N={},O=function(t){var e=A[t];n(A,t,"delete"==t||"has"==t?function(a){return!(x&&!f(a))&&e.call(this,0===a?0:a)}:"get"==t?function(a){return x&&!f(a)?void 0:e.call(this,0===a?0:a)}:"add"==t?function(a){return e.call(this,0===a?0:a),this}:function(a,b){return e.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(x||A.forEach&&!v((function(){(new C).entries().next()})))){var z=new C,U=z[w](x?{}:-0,1)!=z,T=v((function(){z.has(1)})),$=_((function(t){new C(t)})),V=!x&&v((function(){for(var t=new C,e=5;e--;)t[w](e,e);return!t.has(-0)}));$||((C=e((function(e,c){h(e,C,t);var o=y(new S,e,C);return null!=c&&d(c,k,o[w],o),o}))).prototype=A,A.constructor=C),(T||V)&&(O("delete"),O("has"),k&&O("get")),(V||U)&&O(w),x&&A.clear&&delete A.clear}else C=m.getConstructor(e,t,k,w),l(C.prototype,c),meta.NEED=!0;return P(C,t),N[t]=C,r(r.G+r.W+r.F*(C!=S),N),x||m.setStrong(C,t,k),C}},353:function(t,e,c){var content=c(384);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,c(18).default)("61fd99a9",content,!0,{sourceMap:!1})},383:function(t,e,c){"use strict";c(353)},384:function(t,e,c){(t.exports=c(17)(!1)).push([t.i,"*{list-style:none;padding:0;border:0}#app{padding:50px}#app .title{padding:0 12px;line-height:1;font-size:18px;border-left:4px solid #50bfff;color:#666;margin:0 0 16px;font-weight:400}#app .example{margin-top:50px}#app .example .code-area{width:740px;height:300px;box-sizing:border-box;padding:20px;border:2px dashed #c00;font-size:14px;line-height:1.6}#app .specification{display:inline-block;vertical-align:top;width:480px}#app .specification .spec-list{background-color:#fff;border:1px solid #d8d8d8;padding:10px}#app .specification .spec-list .item{margin-top:5px}#app .specification .spec-list .item:first-child{margin-top:0}#app .specification .spec-list .item .name{background:#f3f6fb;padding:2px 8px;text-align:right;overflow:hidden}#app .specification .spec-list .item .name .el-input{float:left;width:150px}#app .specification .spec-list .item .name .icon{display:none;color:#929292;cursor:pointer}#app .specification .spec-list .item .name .icon:hover{color:#800}#app .specification .spec-list .item .name:hover .icon{display:inline-block}#app .specification .spec-list .item .values .el-tag{margin:8px 0 0 8px}#app .specification .spec-list .item .values .add-attr{display:inline-block;vertical-align:top;margin-top:4px}#app .specification .spec-list .item .values .add-attr .el-input{width:200px;margin:2px 0 0 4px}#app .specification .spec-list .add-spec{font-size:13px}#app .stock-table{width:740px;padding:0;border-collapse:separate;border-color:#dfe6ec;border-style:solid;border-width:1px 0 0 1px;background-color:#fff}#app .stock-table td,#app .stock-table th{padding:4px 10px;border-bottom:1px solid #dfe6ec;border-right:1px solid #dfe6ec}#app .stock-table th{line-height:30px;background-color:#eef1f6}#app .stock-table .link{cursor:pointer;color:#08e;font-size:13px;margin-left:6px}#app .stock-table .wh-foot{line-height:30px}#app .stock-table .wh-foot .label,#app .stock-table .wh-foot .set-list{display:inline-block;vertical-align:top}#app .stock-table .wh-foot .set-list{font-size:0}#app .stock-table .wh-foot .set-list .set-item{display:inline-block;vertical-align:top;margin-left:15px;font-size:13px;cursor:pointer;color:#08e}#app .stock-table .wh-foot .set-form{display:inline-block;margin-left:10px}#app .stock-table .wh-foot .set-form .el-input{display:inline-block;width:120px}#app .stock-table .wh-foot .set-form .set-btn{display:inline-block;padding:0 2px;font-size:15px;cursor:pointer}#app .stock-table .wh-foot .set-form .set-btn.blue{color:#08e}#app .stock-table .wh-foot .set-form .set-btn.red{color:#c00}#app .stock-table .wh-foot .right{float:right}#app .stock-table .wh-foot .text{font-size:13px}",""])},437:function(t,e,c){"use strict";c.r(e);c(46),c(343),c(59),c(60),c(37),c(12),c(344),c(66),c(91),c(131),c(48);var o=c(41);function r(t,e){for(var c in t){if(t.hasOwnProperty(c)!==e.hasOwnProperty(c))return!1;if(Object(o.a)(t[c])!==Object(o.a)(e[c]))return!1}for(var n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(Object(o.a)(t[n])!==Object(o.a)(e[n]))return!1;if(t.hasOwnProperty(n))if(t[n]instanceof Array&&e[n]instanceof Array){if(r(!t[n],e[n]))return!1}else if(t[n]instanceof Object&&e[n]instanceof Object){if(r(!t[n],e[n]))return!1}else if(t[n]!==e[n])return!1}return!0}var n={name:"app",layout:"bar",data:function(){return{specification:[{name:"颜色",value:["黑色","白色","蓝色"]}],childProductArray:[{childProductId:0,childProductSpec:{"颜色":"黑色"},childProductNo:"PRODUCTNO_0",childProductStock:0,childProductPrice:0,childProductCost:0,isUse:!0},{childProductId:0,childProductSpec:{"颜色":"白色"},childProductNo:"PRODUCTNO_1",childProductStock:0,childProductPrice:0,childProductCost:0,isUse:!0},{childProductId:0,childProductSpec:{"颜色":"蓝色"},childProductNo:"PRODUCTNO_2",childProductStock:0,childProductPrice:0,childProductCost:0,isUse:!0}],addValues:[],defaultProductNo:"PRODUCTNO_",isSetListShow:!0,batchValue:"",currentType:""}},computed:{stockSpecArr:function(){return this.childProductArray.map((function(t){return t.childProductSpec}))}},methods:{addSpec:function(){this.specification.length<5&&this.specification.push({name:"",value:[]})},delSpec:function(t){this.specification.splice(t,1),this.handleSpecChange("del")},addSpecTag:function(t){var e=this.addValues[t]||"";if(e.trim()){var c=(e=e.trim()).split(/\s+/),o=this.specification[t].value.concat(c);o=Array.from(new Set(o)),this.$set(this.specification[t],"value",o),this.clearAddValues(t),this.handleSpecChange("add")}},delSpecTag:function(t,e){this.specification[t].value.splice(e,1),this.handleSpecChange("del")},clearAddValues:function(t){this.$set(this.addValues,t,"")},getSpecAttr:function(t,e){var c,o=this.specification[t].value;c=this.specification[t+1]&&this.specification[t+1].value.length?e/this.countSum(t+1):e;var i=Math.floor(c%o.length);return"NaN"!==i.toString()?o[i]:""},countSum:function(t){var e=1;return this.specification.forEach((function(c,o){o>=t&&c.value.length&&(e*=c.value.length)})),e},showTd:function(t,e){return!!this.specification[t]&&e%this.countSum(t+1)==0},handleSpecChange:function(option){var t=JSON.parse(JSON.stringify(this.childProductArray));"del"===option&&(this.childProductArray=[]);for(var i=0;i<this.countSum(0);i++)this.changeStock(option,i,t)},changeStock:function(option,t,e){var c={childProductId:0,childProductSpec:this.getChildProductSpec(t),childProductNo:this.defaultProductNo+t,childProductStock:0,childProductPrice:0,childProductCost:0,isUse:!0},o=c.childProductSpec;if("add"===option)-1===this.stockSpecArr.findIndex((function(t){return r(o,t)}))&&this.$set(this.childProductArray,t,c);else if("del"===option){var n="";e.forEach((function(t){if(r(o,t.childProductSpec))return n=t,!1})),this.childProductArray.push(n||c)}},getChildProductSpec:function(t){var e=this,c={};return this.specification.forEach((function(o,r){c[o.name]=e.getSpecAttr(r,t)})),c},handleUserChange:function(t,e){if(e){var c=this.makeProductNoNotRepet(t);this.$set(this.childProductArray[t],"childProductNo",c)}else this.$set(this.childProductArray[t],"childProductNo","")},handleNo:function(t,e){var c,o=this.childProductArray[t].childProductNo;this.childProductArray.forEach((function(e,i){e.childProductNo===o&&i!==t&&(c=!0)})),c&&(this.$message({type:"warning",message:"不允许输入重复的商品编号"}),this.$set(this.childProductArray[t],"childProductNo",this.makeProductNoNotRepet(t)))},makeProductNoNotRepet:function(t){for(var e,i=t,c=!0;c;)e=this.defaultProductNo+i,c=this.isProductNoRepet(e),i++;return e},isProductNoRepet:function(t){return this.childProductArray.findIndex((function(e){return e.childProductNo===t}))>-1},openBatch:function(t){this.currentType=t,this.isSetListShow=!1},setBatch:function(){var t=this;"string"!=typeof this.batchValue?(this.childProductArray.forEach((function(e){e.isUse&&(e[t.currentType]=t.batchValue)})),this.cancelBatch()):this.$message({type:"warning",message:"请输入正确的值"})},cancelBatch:function(){this.batchValue="",this.currentType="",this.isSetListShow=!0}}},l=(c(383),c(6)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{attrs:{id:"app"}},[c("div",{staticClass:"specification"},[c("div",{staticClass:"title"},[t._v("产品规格设置")]),t._v(" "),c("ul",{staticClass:"spec-list"},t._l(t.specification,(function(e,o){return c("li",{key:o,staticClass:"item"},[c("div",{staticClass:"name"},[c("el-input",{attrs:{size:"small",placeholder:"输入产品规格"},model:{value:e.name,callback:function(c){t.$set(e,"name",c)},expression:"item.name"}}),t._v(" "),c("i",{staticClass:"icon el-icon-circle-close",on:{click:function(e){return t.delSpec(o)}}})],1),t._v(" "),c("div",{staticClass:"values"},[t._l(e.value,(function(e,r){return c("span",{key:e,staticClass:"el-tag"},[c("span",{staticClass:"el-select__tags-text"},[t._v(t._s(e))]),t._v(" "),c("i",{staticClass:"el-tag__close el-icon-close",on:{click:function(e){return t.delSpecTag(o,r)}}})])})),t._v(" "),c("div",{staticClass:"add-attr"},[c("el-input",{attrs:{size:"small",placeholder:"多个产品属性以空格隔开"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addSpecTag(o)}},model:{value:t.addValues[o],callback:function(e){t.$set(t.addValues,o,e)},expression:"addValues[index]"}},[c("el-button",{attrs:{slot:"append",icon:"el-icon-plus"},on:{click:function(e){return t.addSpecTag(o)}},slot:"append"})],1)],1)],2)])})),0),t._v(" "),c("div",{staticClass:"add-spec"},[c("el-button",{attrs:{size:"small",type:"info",disabled:t.specification.length>=5},on:{click:t.addSpec}},[t._v("添加规格项目")])],1)]),t._v(" "),c("div",{staticClass:"example"},[c("h4",{staticClass:"title"},[t._v("规格展示")]),t._v(" "),c("table",{staticClass:"stock-table"},[c("thead",[c("tr",t._l(t.specification,(function(e,o){return c("th",{key:o},[t._v(t._s(e.name))])})),0)]),t._v(" "),c("tbody",t._l(t.countSum(0),(function(e,o){return c("tr",{key:o},t._l(t.specification.length,(function(e,r){return c("td",{key:e},[t._v("\n          "+t._s(t.getSpecAttr(r,o))+"\n        ")])})),0)})),0)])]),t._v(" "),c("div",{staticClass:"example"},[c("h4",{staticClass:"title"},[t._v("实战DEMO")]),t._v(" "),c("table",{staticClass:"stock-table",attrs:{cellspacing:"0",cellpadding:"0"}},[c("thead",[c("tr",[t._l(t.specification,(function(e,o){return c("th",{key:o},[t._v("\n          "+t._s(e.name)+"\n        ")])})),t._v(" "),c("th",{staticStyle:{width:"160px"}},[t._v("规格编码")]),t._v(" "),c("th",[t._v("成本价（元）")]),t._v(" "),c("th",[t._v("库存")]),t._v(" "),c("th",[t._v("销售价（元）")]),t._v(" "),c("th",[t._v("是否启用")])],2)]),t._v(" "),t.specification[0]&&t.specification[0].value.length?c("tbody",[t._l(t.countSum(0),(function(e,o){return c("tr",{key:o},[t._l(t.specification.length,(function(e,r){return t.showTd(r,o)?c("td",{key:e,attrs:{rowspan:t.countSum(e)}},[t._v("\n          "+t._s(t.getSpecAttr(r,o))+"\n        ")]):t._e()})),t._v(" "),c("td",[c("el-input",{attrs:{size:"small",type:"text",disabled:!t.childProductArray[o].isUse,placeholder:"输入商品规格编号"},on:{blur:function(e){return t.handleNo(o)}},model:{value:t.childProductArray[o].childProductNo,callback:function(e){t.$set(t.childProductArray[o],"childProductNo",e)},expression:"childProductArray[index].childProductNo"}})],1),t._v(" "),c("td",[c("el-input",{attrs:{size:"small",type:"text",placeholder:"输入成本价",disabled:!t.childProductArray[o].isUse},model:{value:t.childProductArray[o].childProductCost,callback:function(e){t.$set(t.childProductArray[o],"childProductCost",t._n(e))},expression:"childProductArray[index].childProductCost"}})],1),t._v(" "),c("td",[c("el-input",{attrs:{size:"small",type:"text",placeholder:"输入库存",disabled:!t.childProductArray[o].isUse},model:{value:t.childProductArray[o].childProductStock,callback:function(e){t.$set(t.childProductArray[o],"childProductStock",t._n(e))},expression:"childProductArray[index].childProductStock"}})],1),t._v(" "),c("td",[c("el-input",{attrs:{size:"small",type:"text",placeholder:"输入销售价",disabled:!t.childProductArray[o].isUse},model:{value:t.childProductArray[o].childProductPrice,callback:function(e){t.$set(t.childProductArray[o],"childProductPrice",t._n(e))},expression:"childProductArray[index].childProductPrice"}})],1),t._v(" "),c("td",[c("el-switch",{on:{change:function(e){t.handleUserChange(o,e)}},model:{value:t.childProductArray[o].isUse,callback:function(e){t.$set(t.childProductArray[o],"isUse",e)},expression:"childProductArray[index].isUse"}})],1)],2)})),t._v(" "),c("tr",[c("td",{staticClass:"wh-foot",attrs:{colspan:"8"}},[c("span",{staticClass:"label"},[t._v("批量设置：")]),t._v(" "),t.isSetListShow?c("ul",{staticClass:"set-list"},[c("li",{staticClass:"set-item",on:{click:function(e){return t.openBatch("childProductCost")}}},[t._v("成本价")]),t._v(" "),c("li",{staticClass:"set-item",on:{click:function(e){return t.openBatch("childProductStock")}}},[t._v("库存")]),t._v(" "),c("li",{staticClass:"set-item",on:{click:function(e){return t.openBatch("childProductPrice")}}},[t._v("销售价")])]):c("div",{staticClass:"set-form"},[c("el-input",{attrs:{size:"mini",placeholder:"输入要设置的数量"},model:{value:t.batchValue,callback:function(e){t.batchValue=t._n(e)},expression:"batchValue"}}),t._v(" "),c("i",{staticClass:"set-btn blue el-icon-check",on:{click:t.setBatch}}),t._v(" "),c("i",{staticClass:"set-btn red el-icon-close",on:{click:t.cancelBatch}})],1)])])],2):t._e()])]),t._v(" "),c("div",{staticClass:"example"},[c("h4",{staticClass:"title"},[t._v("数据格式")]),t._v(" "),c("textarea",{staticClass:"code-area",domProps:{value:JSON.stringify(t.childProductArray)}})])])}),[],!1,null,null,null);e.default=component.exports}}]);